{
  "index_patterns": ["behavior-logs-*"],
  "template": {
    "settings": {
      "number_of_shards": 1,
      "number_of_replicas": 1,
      "index.lifecycle.name": "behaviorlog-ilm-policy"
    },
    "mappings": {
      "properties": {
        "userId":           { "type": "keyword" },
        "anonymousId":      { "type": "keyword" },
        "path":             { "type": "keyword" },
        "httpMethod":       { "type": "keyword" },
        "ip":               { "type": "ip" },
        "requestId":        { "type": "keyword" },
        "sessionId":        { "type": "keyword" },
        "userAgent":        { "type": "text" },
        "referrer":         { "type": "keyword" },
        "nextPath":         { "type": "keyword" },
        "action":           { "type": "keyword" },
        "stayTime":         { "type": "long" },
        "responseTime":     { "type": "long" },
        "dbLatency":        { "type": "long" },
        "externalLatency":  { "type": "long" },
        "deviceType":       { "type": "keyword" },
        "browser":          { "type": "keyword" },
        "os":               { "type": "keyword" },
        "logType":          { "type": "keyword" },
        "timestamp":        { "type": "date" }
      }
    }
  },
  "priority": 500,
  "data_stream": {}
}
