# ğŸ›¡ï¸ Rate Limiting êµ¬í˜„ì„ í†µí•œ ë³´ì•ˆ ê°•í™” í”„ë¡œì íŠ¸

## ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ë°©ì–´ ì‹œìŠ¤í…œ êµ¬ì¶•

> **ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•˜ê³  k6 í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦í•œ Rate Limiting ì‹œìŠ¤í…œ êµ¬ì¶• ê³¼ì •**  
> Clean Architecture + Spring Boot + Redisë¥¼ í™œìš©í•œ ë³´ì•ˆ ì‹œìŠ¤í…œ êµ¬í˜„

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ í•µì‹¬ ì„±ê³¼ (Key Results)

```
ğŸ† ìµœì¢… ë‹¬ì„± ì„±ê³¼:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ì§€í‘œ          â”‚   Before    â”‚    After    â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³µê²© ì„±ê³µë¥          â”‚   27.48%    â”‚    0%       â”‚  100% ê°ì†Œ  â”‚
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥   â”‚   100%      â”‚   19.23%    â”‚ ì˜ì‹¬ í–‰ë™ ì°¨ë‹¨ â”‚
â”‚ ì‘ë‹µì‹œê°„ (ê³µê²©)     â”‚  117.66ms   â”‚   16ms      â”‚  86.4% ê°œì„  â”‚
â”‚ ì‘ë‹µì‹œê°„ (ì •ìƒ)     â”‚  119.26ms   â”‚  129.45ms   â”‚  8.5% ì¦ê°€  â”‚
â”‚ Rate Limit ì°¨ë‹¨     â”‚     0ê°œ     â”‚    577ê°œ    â”‚ ì™„ì „ ì°¨ë‹¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ í•µì‹¬ ì„±ì·¨: 100% ê³µê²© ì°¨ë‹¨ + ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€ ì‹œìŠ¤í…œ êµ¬ì¶•
```

### ğŸ”„ ì²´ê³„ì  íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê³¼ì •

**4ë‹¨ê³„ ì ì§„ì  ê°œì„  ì ‘ê·¼ë²•**ìœ¼ë¡œ ë¬¸ì œë¥¼ ì²´ê³„ì ìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤:

1. **ğŸ” 1ë‹¨ê³„**: ë¬¸ì œ ë°œê²¬ ë° ë¶„ì„ (Rate Limiting ì—†ìŒ)

   - ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬ ë° ê·¼ë³¸ ì›ì¸ ë¶„ì„
   - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì •ëŸ‰ì  ë¬¸ì œ íŒŒì•…

2. **âš¡ 2ë‹¨ê³„**: ê¸°ë³¸ Rate Limiting êµ¬í˜„ (Memory ê¸°ë°˜, 10íšŒ/ë¶„)

   - Clean Architecture ì ìš©í•œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° ì„¤ê³„
   - ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ìœ„í•œ ConcurrentHashMap í™œìš©

3. **ğŸŒ 3ë‹¨ê³„**: ë¶„ì‚° í™˜ê²½ ëŒ€ì‘ (Redis ê¸°ë°˜, 10íšŒ/ë¶„)

   - Redis ì›ìì  ì—°ì‚°ì„ í†µí•œ ë¶„ì‚° í™˜ê²½ ì•ˆì •ì„± í™•ë³´
   - ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ì¹´ìš´í„° ìœ ì§€

4. **ğŸ¯ 4ë‹¨ê³„**: ì‹¤ë¬´ ìµœì í™” (ê°œì„ ëœ ë¡œì§, 60íšŒ/ë¶„, ì‚¬ìš©ìë³„+IPë³„)
   - ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì°¨ë³„í™”ëœ ì œí•œ ì •ì±…
   - ê³µìœ  IP í™˜ê²½ ëŒ€ì‘ ë° ì‹¤ë¬´ ì í•©ì„± í™•ë³´

---

## ğŸ” 1ë‹¨ê³„: ë¬¸ì œ ë°œê²¬ ë° ë¶„ì„

### ğŸ“Š ì´ˆê¸° ìƒí™© ë¶„ì„

ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìš´ì˜ë˜ê³  ìˆì—ˆì§€ë§Œ, **ë³´ì•ˆ ê´€ë ¨ ëª¨ë‹ˆí„°ë§ì´ ì „í˜€ ì—†ëŠ” ìƒíƒœ**ì˜€ìŠµë‹ˆë‹¤.

```yaml
ğŸ“ˆ ì„œë¹„ìŠ¤ ìš´ì˜ ì§€í‘œ (ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì „):
  - ë¡œê·¸ì¸ API í˜¸ì¶œ: í‰ê·  5,000íšŒ/ì¼
  - ì„œë²„ ì‘ë‹µì‹œê°„: í‰ê·  150ms
  - ì—ëŸ¬ìœ¨: 2%
  - ë³´ì•ˆ ê´€ë ¨ ëª¨ë‹ˆí„°ë§: âŒ ì—†ìŒ
  - Rate Limiting: âŒ ì—†ìŒ
  - ê³„ì • ì ê¸ˆ ë©”ì»¤ë‹ˆì¦˜: âŒ ì—†ìŒ
```

### ğŸš¨ ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬

**k6 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì²´ê³„ì  ë³´ì•ˆ ê²€ì¦**ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
# ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-abuse.test.js
```

**ğŸ”´ ì‹¬ê°í•œ ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬:**

```
ğŸ“Š ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ê²°ê³¼ (Rate Limiting ì—†ìŒ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì§€í‘œ        â”‚   ì •ìƒ ì‚¬ìš©ì  â”‚   ê³µê²© ì‹œë®¬ë ˆì´ì…˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„±ê³µë¥           â”‚   100%      â”‚   27.48%    â”‚ âš ï¸ ë§¤ìš° ìœ„í—˜
â”‚ ì´ ìš”ì²­ ìˆ˜      â”‚    72       â”‚    382      â”‚
â”‚ ì‘ë‹µì‹œê°„ (p95)  â”‚  119.26ms   â”‚  117.66ms   â”‚
â”‚ ì—ëŸ¬ìœ¨          â”‚    0%       â”‚   72.51%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸš¨ ë°œê²¬ëœ ë³´ì•ˆ ìœ„í—˜:
- ê³µê²© ì‹œë®¬ë ˆì´ì…˜ì—ì„œ 27.48% ì„±ê³µë¥  (ë§¤ìš° ìœ„í—˜)
- Rate Limiting ë©”ì»¤ë‹ˆì¦˜ì´ ì „í˜€ ì—†ìŒ
- ë¬´ì œí•œ ë¡œê·¸ì¸ ì‹œë„ í—ˆìš©
```

### ğŸ” ê·¼ë³¸ ì›ì¸ ë¶„ì„

**ê¸°ì¡´ ë¡œê·¸ì¸ ë¡œì§ ì½”ë“œ ë¶„ì„**ì„ í†µí•´ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì´ ì „í˜€ ì—†ìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

```java
// ğŸš¨ ê¸°ì¡´ AuthCommandService.login() ë©”ì„œë“œ - ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬
@Override
public RefreshTokenResponse login(SelfLoginRequest requestDto) {
    // âŒ Rate Limiting ì—†ìŒ
    // âŒ ê³„ì • ì ê¸ˆ ì—†ìŒ
    // âŒ IP ì°¨ë‹¨ ì—†ìŒ
    // âŒ ì˜ì‹¬ í–‰ë™ ê°ì§€ ì—†ìŒ

    // âœ… ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ë§Œ ìˆ˜í–‰ (ìœ ì¼í•œ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜)
    UserInfo userInfo = isLoginPossibleUseCase.checkLoginPossibleAndGetUserInfo(
        requestDto.email(), requestDto.password());

    // JWT í† í° ë°œê¸‰
    String refreshToken = jwtGeneratorPort.generateRefreshToken(authUser.userId(), authUser.role());

    return new RefreshTokenResponse(refreshToken, jwtProperties.getRefreshTokenExpirationTime());
}
```

**ğŸ¯ í•µì‹¬ ë¬¸ì œì  ì‹ë³„:**

| ë¬¸ì œ ì˜ì—­         | í˜„ì¬ ìƒíƒœ | ìœ„í—˜ë„      | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸       |
| ----------------- | --------- | ----------- | --------------------- |
| **Rate Limiting** | âŒ ì—†ìŒ   | ğŸ”´ Critical | ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ê°€ëŠ¥ |
| **ê³„ì • ì ê¸ˆ**     | âŒ ì—†ìŒ   | ğŸ”´ Critical | ê³„ì • íƒˆì·¨ ìœ„í—˜        |
| **IP ì°¨ë‹¨**       | âŒ ì—†ìŒ   | ğŸŸ¡ High     | ì„œë²„ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„      |
| **ëª¨ë‹ˆí„°ë§**      | âŒ ì—†ìŒ   | ğŸŸ¡ High     | ë³´ì•ˆ ì‚¬ê³  ê°ì§€ ë¶ˆê°€   |

### ğŸ¯ í•´ê²° ì „ëµ ìˆ˜ë¦½

**ì²´ê³„ì  ì ‘ê·¼ë²•**ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤:

**ğŸ“‹ 1ì°¨ ëª©í‘œ (ë³´ìˆ˜ì  ì ‘ê·¼):**

- âœ… ë©”ëª¨ë¦¬ ê¸°ë°˜ Rate Limiting êµ¬í˜„
- âœ… IPë‹¹ 10íšŒ/ë¶„ ì œí•œ (ë³´ì•ˆ ìš°ì„ )
- âœ… Clean Architecture ì ìš© (í™•ì¥ì„± í™•ë³´)
- âœ… ê¸°ë³¸ì ì¸ ë³´ì•ˆ ê°•í™”

**ğŸ“Š ì˜ˆìƒ íš¨ê³¼:**

- ê³µê²© ì„±ê³µë¥ : 27.48% â†’ 5% ì´í•˜
- ì„œë²„ ë¶€í•˜ ê°ì†Œ (ë¶ˆí•„ìš”í•œ DB ì¡°íšŒ ë°©ì§€)
- ë³´ì•ˆ ìˆ˜ì¤€ í–¥ìƒ (ê¸°ë³¸ì ì¸ ë°©ì–´ ì²´ê³„ êµ¬ì¶•)

**ğŸ”§ ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­:**

- ë™ì‹œì„± ì²˜ë¦¬ (ConcurrentHashMap í™œìš©)
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± (TTL ê¸°ë°˜ ì¹´ìš´í„° ê´€ë¦¬)
- í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ (Port-Adapter íŒ¨í„´)

---

## âš¡ 2ë‹¨ê³„: ê¸°ë³¸ Rate Limiting êµ¬í˜„

### ğŸ—ï¸ Clean Architecture ê¸°ë°˜ ì„¤ê³„

**í™•ì¥ ê°€ëŠ¥í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°**ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

```mermaid
graph TD
    A[AuthController] --> B[AuthCommandService]
    B --> C[RateLimitPort Interface]
    C --> D[MemoryRateLimitAdapter]
    C --> E[RedisRateLimitAdapter]
    B --> F[IsLoginPossibleUseCase]
    B --> G[JwtGeneratorPort]
```

### ğŸ”§ í•µì‹¬ êµ¬í˜„

**1. Rate Limit Port ì¸í„°í˜ì´ìŠ¤ (ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ ì ìš©):**

```java
/**
 * Rate Limitingì„ ìœ„í•œ Port ì¸í„°í˜ì´ìŠ¤
 * Clean Architectureì˜ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì„ ì ìš©í•˜ì—¬
 * êµ¬í˜„ì²´ ë³€ê²½ ì‹œì—ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì˜í–¥ ì—†ìŒ
 */
public interface RateLimitPort {
    boolean isAllowed(String key, int maxRequests, int windowMinutes);
    void incrementRequestCount(String key, int incrementBy);
}
```

**2. Memory Rate Limit Adapter (ë™ì‹œì„± ì²˜ë¦¬):**

```java
@Component("memoryRateLimitAdapter")
public class MemoryRateLimitAdapter implements RateLimitPort {
    // Thread-Safeí•œ ConcurrentHashMap ì‚¬ìš©
    private final ConcurrentHashMap<String, RequestCounter> requestCounters = new ConcurrentHashMap<>();

    @Override
    public boolean isAllowed(String key, int maxRequests, int windowMinutes) {
        // ì›ìì  ì—°ì‚°ìœ¼ë¡œ ë™ì‹œì„± ë¬¸ì œ í•´ê²°
        RequestCounter counter = requestCounters.computeIfAbsent(key, k -> new RequestCounter());
        return counter.getCount() < maxRequests;
    }

    @Override
    public void incrementRequestCount(String key, int incrementBy) {
        RequestCounter counter = requestCounters.computeIfAbsent(key, k -> new RequestCounter());
        counter.increment(incrementBy);
    }
}
```

**3. RequestCounter í´ë˜ìŠ¤ (Thread-Safe ì¹´ìš´í„°):**

```java
public class RequestCounter {
    private final AtomicInteger count = new AtomicInteger(0);
    private final long windowStartTime = System.currentTimeMillis();

    public int getCount() {
        // ìœˆë„ìš° ì‹œê°„ ì²´í¬ (1ë¶„)
        if (System.currentTimeMillis() - windowStartTime > 60000) {
            count.set(0);
        }
        return count.get();
    }

    public void increment(int incrementBy) {
        count.addAndGet(incrementBy);
    }
}
```

**4. Service Layer í†µí•© (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë³´ì•ˆ ë¡œì§ ë¶„ë¦¬):**

```java
@Override
public RefreshTokenResponse loginWithRateLimit(SelfLoginRequest requestDto, String clientIp) {
    // 1. ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë¨¼ì € ìˆ˜í–‰ (ë³´ì•ˆ ìš°ì„ )
    UserInfo userInfo = isLoginPossibleUseCase.checkLoginPossibleAndGetUserInfo(
        requestDto.email(), requestDto.password());

    // 2. Rate Limiting í™•ì¸ (IP ê¸°ë°˜, 10íšŒ/ë¶„)
    String rateLimitKey = clientIp;
    if (clientIp != null && !rateLimitPort.isAllowed(rateLimitKey, 10, 1)) {
        throw new AuthException(AuthErrorStatus.RATE_LIMIT_EXCEEDED);
    }

    // 3. ì¹´ìš´í„° ì¦ê°€ (ì„±ê³µí•œ ìš”ì²­ë§Œ ì¹´ìš´íŠ¸)
    if (clientIp != null) {
        rateLimitPort.incrementRequestCount(rateLimitKey, 1);
    }

    // 4. ê¸°ì¡´ ë¡œê·¸ì¸ ë¡œì§ ìˆ˜í–‰
    AuthUser authUser = AuthUser.from(userInfo);
    String refreshToken = jwtGeneratorPort.generateRefreshToken(authUser.userId(), authUser.role());

    return new RefreshTokenResponse(refreshToken, jwtProperties.getRefreshTokenExpirationTime());
}
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

**êµ¬í˜„ ì™„ë£Œ í›„ ì²´ê³„ì ì¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
# ì •ìƒ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-with-rate-limit.test.js

# ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-abuse-with-rate-limit.test.js
```

**ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„:**

```
ğŸ¯ Memory ê¸°ë°˜ Rate Limiting ì ìš© ê²°ê³¼:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì§€í‘œ        â”‚   Before    â”‚    After    â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µâ”‚   100%      â”‚   15.38%    â”‚ 85% ê°ì†Œ    â”‚ âš ï¸ ë¬¸ì œ
â”‚ ê³µê²© ì„±ê³µë¥      â”‚   27.48%    â”‚    1.24%    â”‚ 95% ê°ì†Œ    â”‚ âœ… ì„±ê³µ
â”‚ ì‘ë‹µì‹œê°„(ì •ìƒ)  â”‚  119.26ms   â”‚  104.45ms   â”‚ 12% ê°œì„     â”‚ âœ… ê°œì„ 
â”‚ ì‘ë‹µì‹œê°„(ê³µê²©)  â”‚  117.66ms   â”‚    26ms     â”‚ 78% ê°œì„     â”‚ âœ… ê°œì„ 
â”‚ Rate Limit ì°¨ë‹¨ â”‚     0ê°œ     â”‚    246ê°œ    â”‚ ì™„ì „ ì°¨ë‹¨   â”‚ âœ… ì„±ê³µ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… ë‹¬ì„±í•œ ì„±ê³¼:**

- ğŸ›¡ï¸ ê³µê²© ì°¨ë‹¨ë¥ : 98.75% ë‹¬ì„± (ë§¤ìš° ìš°ìˆ˜)
- âš¡ ì„œë²„ ë¶€í•˜ ê°ì†Œ (ê³µê²© ìš”ì²­ ë¹ ë¥¸ ì°¨ë‹¨)
- ğŸ”’ ë³´ì•ˆ ìˆ˜ì¤€ ëŒ€í­ í–¥ìƒ
- ğŸ“ˆ ì‘ë‹µì‹œê°„ ê°œì„  (ë¶ˆí•„ìš”í•œ DB ì¡°íšŒ ë°©ì§€)

**ğŸš¨ ë°œê²¬ëœ ë¬¸ì œì  (ë‹¤ìŒ ë‹¨ê³„ ê°œì„  í•„ìš”):**

| ë¬¸ì œ ì˜ì—­                 | í˜„ì¬ ìƒíƒœ               | ì›ì¸ ë¶„ì„                                   | ê°œì„  í•„ìš”ì„± |
| ------------------------- | ----------------------- | ------------------------------------------- | ----------- |
| **ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥ **    | 15.38% (ë„ˆë¬´ ë‚®ìŒ)      | 10íšŒ/ë¶„ ì œí•œì´ ê³¼ë„í•˜ê²Œ ì—„ê²©                | ğŸ”´ Critical |
| **IP ê¸°ë°˜ ì œí•œì˜ í•œê³„**   | ê³µìœ  IP í™˜ê²½ì—ì„œ ë¶ˆê³µì • | íšŒì‚¬/í•™êµ ë“± ê³µìœ  IPì—ì„œ ì •ìƒ ì‚¬ìš©ìë„ ì°¨ë‹¨ | ğŸŸ¡ High     |
| **ë¶„ì‚° í™˜ê²½ ë¯¸ì§€ì›**      | ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì§€ì›    | ë©”ëª¨ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ ê°„ ê³µìœ  ë¶ˆê°€           | ğŸŸ¡ High     |
| **ì„œë²„ ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™”** | ì¹´ìš´í„° ë¦¬ì…‹             | ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ í•œê³„                          | ğŸŸ¡ Medium   |

**ğŸ” ê·¼ë³¸ ì›ì¸ ë¶„ì„:**

1. **ê³¼ë„í•œ ë³´ìˆ˜ì  ì ‘ê·¼**: 10íšŒ/ë¶„ì€ ì‹¤ë¬´ í™˜ê²½ì— ë„ˆë¬´ ì—„ê²©
2. **IP ê¸°ë°˜ ì œí•œì˜ êµ¬ì¡°ì  í•œê³„**: ê³µìœ  IP í™˜ê²½ì—ì„œ ë¶ˆê³µì •í•œ ì œí•œ
3. **í™•ì¥ì„± ë¶€ì¡±**: ë¶„ì‚° í™˜ê²½ì—ì„œ ë™ì‘í•˜ì§€ ì•ŠìŒ
4. **ì˜ì†ì„± ë¶€ì¡±**: ì„œë²„ ì¬ì‹œì‘ ì‹œ ì¹´ìš´í„° ì´ˆê¸°í™”

**ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„ ê°œì„  ë°©í–¥:**

- Redis ê¸°ë°˜ ë¶„ì‚° Rate Limiting ë„ì…
- ì‚¬ìš©ìë³„ + IPë³„ ì¡°í•© ì œí•œìœ¼ë¡œ ê³µì •ì„± í™•ë³´
- ì‹¤ë¬´ í™˜ê²½ì— ì í•©í•œ ì œí•œ ì„¤ì • ì¡°ì •

---

## ğŸŒ 3ë‹¨ê³„: Redis ê¸°ë°˜ ë¶„ì‚° Rate Limiting

### ğŸ¯ ë¬¸ì œ í•´ê²° ì „ëµ

**2ë‹¨ê³„ì—ì„œ ë°œê²¬ëœ ë¬¸ì œë“¤ì„ ì²´ê³„ì ìœ¼ë¡œ í•´ê²°**í•˜ê¸° ìœ„í•´ Redisë¥¼ ë„ì…í–ˆìŠµë‹ˆë‹¤.

**ğŸ” í•´ê²°í•´ì•¼ í•  í•µì‹¬ ë¬¸ì œ:**

| ë¬¸ì œ ì˜ì—­                 | í˜„ì¬ ìƒíƒœ            | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸               | í•´ê²° ìš°ì„ ìˆœìœ„ |
| ------------------------- | -------------------- | ----------------------------- | ------------- |
| **ë¶„ì‚° í™˜ê²½ ë¯¸ì§€ì›**      | ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì§€ì› | í™•ì¥ì„± ì œí•œ, ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ìœ„í—˜ | ğŸ”´ Critical   |
| **ì„œë²„ ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™”** | ì¹´ìš´í„° ë¦¬ì…‹          | ë³´ì•ˆ ê³µë°± ë°œìƒ                | ğŸ”´ Critical   |
| **í™•ì¥ì„± ë¶€ì¡±**           | ë©”ëª¨ë¦¬ ê¸°ë°˜ í•œê³„     | ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ ë¶ˆê°€       | ğŸŸ¡ High       |
| **ì •ìƒ ì‚¬ìš©ì ê²½í—˜**      | 15.38% ì„±ê³µë¥         | ì‚¬ìš©ì ì´íƒˆ ìœ„í—˜              | ğŸŸ¡ High       |

**ğŸ’¡ í•´ê²° ë°©ì•ˆ:**

1. **Redis ê¸°ë°˜ Rate Limiting êµ¬í˜„** - ë¶„ì‚° í™˜ê²½ ì§€ì›
2. **ì›ìì  ì—°ì‚° í™œìš©** - ë™ì‹œì„± ë¬¸ì œ í•´ê²°
3. **TTL ê¸°ë°˜ ìë™ ë§Œë£Œ** - ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± í™•ë³´
4. **ì„¤ì • ê¸°ë°˜ ì œì–´** - ìš´ì˜ ìœ ì—°ì„± í™•ë³´

### ğŸ”§ Redis Rate Limit Adapter êµ¬í˜„

**Redisì˜ ì›ìì  ì—°ì‚°ì„ í™œìš©í•œ Thread-Safe êµ¬í˜„:**

```java
@Component("redisRateLimitAdapter")
public class RedisRateLimitAdapter implements RateLimitPort {
    private final StringRedisTemplate redisTemplate;

    @Override
    public boolean isAllowed(String key, int maxRequests, int windowMinutes) {
        String redisKey = "rate_limit:" + key;

        // Redisì—ì„œ í˜„ì¬ ì¹´ìš´íŠ¸ ì¡°íšŒ (ì›ìì  ì—°ì‚°)
        String countStr = redisTemplate.opsForValue().get(redisKey);
        int currentCount = countStr != null ? Integer.parseInt(countStr) : 0;

        return currentCount < maxRequests;
    }

    @Override
    public void incrementRequestCount(String key, int incrementBy) {
        String redisKey = "rate_limit:" + key;

        // Redis ì›ìì  ì¦ê°€ ì—°ì‚° (ë™ì‹œì„± ë¬¸ì œ í•´ê²°)
        Long count = redisTemplate.opsForValue().increment(redisKey, incrementBy);

        // ì²« ë²ˆì§¸ ìš”ì²­ì¸ ê²½ìš°ì—ë§Œ TTL ì„¤ì • (ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±)
        if (count == incrementBy) {
            redisTemplate.expire(redisKey, 1, TimeUnit.MINUTES);
        }
    }
}
```

**ğŸ”§ Service Layer ìˆ˜ì • (ì˜ì¡´ì„± ì£¼ì…):**

```java
@Service
@RequiredArgsConstructor
public class AuthCommandService {

    // @Qualifierë¥¼ ì‚¬ìš©í•˜ì—¬ Redis êµ¬í˜„ì²´ ì„ íƒ
    @Qualifier("redisRateLimitAdapter")
    private final RateLimitPort rateLimitPort;

    // ... ê¸°ì¡´ ë¡œì§
}
```

**ğŸ“Š Redis ì„¤ì • ìµœì í™”:**

```yaml
# application.yml
spring:
  redis:
    host: localhost
    port: 6379
    timeout: 2000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
        max-wait: -1ms
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

**Redis ê¸°ë°˜ ë¶„ì‚° Rate Limiting êµ¬í˜„ ì™„ë£Œ í›„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
# ë¶„ì‚° í™˜ê²½ì—ì„œì˜ Rate Limiting í…ŒìŠ¤íŠ¸
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-with-rate-limit.test.js
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-abuse-with-rate-limit.test.js
```

**ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„:**

```
ğŸ¯ Redis ê¸°ë°˜ Rate Limiting ì ìš© ê²°ê³¼:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì§€í‘œ        â”‚   2ë‹¨ê³„     â”‚   3ë‹¨ê³„     â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µâ”‚   15.38%    â”‚   19.23%    â”‚ 25% ê°œì„     â”‚ âœ… ê°œì„ 
â”‚ ê³µê²© ì„±ê³µë¥      â”‚    1.24%    â”‚    1.20%    â”‚ 3% ê°œì„      â”‚ âœ… ìœ ì§€
â”‚ ì‘ë‹µì‹œê°„(ì •ìƒ)  â”‚  104.45ms   â”‚  114.7ms    â”‚ 10% ê°ì†Œ    â”‚ âš ï¸ ì¦ê°€
â”‚ ì‘ë‹µì‹œê°„(ê³µê²©)  â”‚    26ms     â”‚   19.4ms    â”‚ 25% ê°œì„     â”‚ âœ… ê°œì„ 
â”‚ Rate Limit ì°¨ë‹¨ â”‚    246ê°œ    â”‚    258ê°œ    â”‚ 5% ì¦ê°€     â”‚ âœ… ê°•í™”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… ë‹¬ì„±í•œ ì„±ê³¼:**

| ì„±ê³¼ ì˜ì—­            | ë‹¬ì„± ë‚´ìš©    | ê¸°ìˆ ì  ì˜ë¯¸                               |
| -------------------- | ------------ | ----------------------------------------- |
| **ë¶„ì‚° í™˜ê²½ ì§€ì›**   | âœ… ì™„ì „ ì§€ì› | Redis ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ ê°„ ì¹´ìš´í„° ê³µìœ         |
| **ë™ì‹œì„± ë¬¸ì œ í•´ê²°** | âœ… ì™„ì „ í•´ê²° | Redis ì›ìì  ì—°ì‚°ìœ¼ë¡œ Race Condition ë°©ì§€ |
| **í™•ì¥ì„± í™•ë³´**      | âœ… ì™„ì „ í™•ë³´ | ìˆ˜í‰ì  í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜               |
| **ì˜ì†ì„± í™•ë³´**      | âœ… ì™„ì „ í™•ë³´ | ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ì¹´ìš´í„° ìœ ì§€            |
| **ì •ìƒ ì‚¬ìš©ì ê²½í—˜** | 25% ê°œì„      | 15.38% â†’ 19.23% (ì—¬ì „íˆ ë¶€ì¡±)             |

**ğŸ” ê¸°ìˆ ì  ê°œì„  ì‚¬í•­:**

1. **ë¶„ì‚° í™˜ê²½ ì•ˆì •ì„±**: Redis ì›ìì  ì—°ì‚°ìœ¼ë¡œ ë™ì‹œì„± ë¬¸ì œ ì™„ì „ í•´ê²°
2. **í™•ì¥ì„±**: ìˆ˜í‰ì  í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ êµ¬ì¶•
3. **ì˜ì†ì„±**: ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ë³´ì•ˆ ìƒíƒœ ìœ ì§€
4. **ì„±ëŠ¥**: Redisì˜ ê³ ì„±ëŠ¥ìœ¼ë¡œ ì‘ë‹µì‹œê°„ ìµœì í™”

**ğŸš¨ ì—¬ì „í•œ ë¬¸ì œì  (4ë‹¨ê³„ì—ì„œ í•´ê²° í•„ìš”):**

| ë¬¸ì œ ì˜ì—­                 | í˜„ì¬ ìƒíƒœ               | ê·¼ë³¸ ì›ì¸                           | í•´ê²° í•„ìš”ì„± |
| ------------------------- | ----------------------- | ----------------------------------- | ----------- |
| **ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥ **    | 19.23% (ì—¬ì „íˆ ë‚®ìŒ)    | 10íšŒ/ë¶„ ì œí•œì´ ì‹¤ë¬´ì— ê³¼ë„í•˜ê²Œ ì—„ê²© | ğŸ”´ Critical |
| **IP ê¸°ë°˜ ì œí•œì˜ í•œê³„**   | ê³µìœ  IP í™˜ê²½ì—ì„œ ë¶ˆê³µì • | íšŒì‚¬/í•™êµ ë“±ì—ì„œ ì •ìƒ ì‚¬ìš©ìë„ ì°¨ë‹¨ | ğŸ”´ Critical |
| **ì‚¬ìš©ì êµ¬ë¶„ ë¡œì§ ë¶€ì¬** | ëª¨ë“  ì‚¬ìš©ì ë™ì¼ ì œí•œ   | ì •ìƒ ì‚¬ìš©ìì™€ ê³µê²©ì êµ¬ë¶„ ì—†ìŒ      | ğŸŸ¡ High     |
| **ì‹¤ë¬´ ì í•©ì„± ë¶€ì¡±**      | ì´ë¡ ì  ì™„ë²½í•¨ë§Œ ì¶”êµ¬    | í˜„ì‹¤ì  ì‚¬ìš© íŒ¨í„´ ê³ ë ¤ ë¶€ì¡±          | ğŸŸ¡ High     |

**ğŸ“‹ 4ë‹¨ê³„ ê°œì„  ë°©í–¥:**

- ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì°¨ë³„í™”ëœ ì œí•œ ì •ì±… ë„ì…
- ì‚¬ìš©ìë³„ + IPë³„ ì¡°í•© ì œí•œìœ¼ë¡œ ê³µì •ì„± í™•ë³´
- ì‹¤ë¬´ í™˜ê²½ì— ì í•©í•œ ì œí•œ ì„¤ì • ì¡°ì • (10íšŒ/ë¶„ â†’ 60íšŒ/ë¶„)
- ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€ ë° ëŒ€ì‘ ì‹œìŠ¤í…œ êµ¬ì¶•

---

## ğŸ¯ 4ë‹¨ê³„: ì‹¤ë¬´ ìµœì í™” ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ğŸš€ ë¬¸ì œ í•´ê²° ì „ëµ

**3ë‹¨ê³„ì—ì„œë„ ì—¬ì „íˆ ë‚¨ì•„ìˆë˜ ë¬¸ì œë“¤ì„ ì‹¤ë¬´ ê´€ì ì—ì„œ ìµœì í™”**í–ˆìŠµë‹ˆë‹¤.

**ğŸ” í•´ê²°í•´ì•¼ í•  í•µì‹¬ ë¬¸ì œ:**

| ë¬¸ì œ ì˜ì—­                 | í˜„ì¬ ìƒíƒœ               | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸       | í•´ê²° ìš°ì„ ìˆœìœ„ |
| ------------------------- | ----------------------- | --------------------- | ------------- |
| **Rate Limit ì„¤ì • ê³¼ë„**  | 10íšŒ/ë¶„ (ë„ˆë¬´ ì—„ê²©)     | ì •ìƒ ì‚¬ìš©ì ì´íƒˆ ìœ„í—˜ | ğŸ”´ Critical   |
| **IP ê¸°ë°˜ ì œí•œì˜ í•œê³„**   | ê³µìœ  IP í™˜ê²½ì—ì„œ ë¶ˆê³µì • | ì‚¬ìš©ì ê²½í—˜ ì €í•˜      | ğŸ”´ Critical   |
| **ì‚¬ìš©ì êµ¬ë¶„ ë¡œì§ ë¶€ì¬** | ëª¨ë“  ì‚¬ìš©ì ë™ì¼ ì œí•œ   | ì •êµí•œ ë³´ì•ˆ ì •ì±… ë¶€ì¡± | ğŸŸ¡ High       |
| **ì‹¤ë¬´ ì í•©ì„± ë¶€ì¡±**      | ì´ë¡ ì  ì™„ë²½í•¨ë§Œ ì¶”êµ¬    | í˜„ì‹¤ì  ìš´ì˜ ì–´ë ¤ì›€    | ğŸŸ¡ High       |

**ğŸ’¡ ì‹¤ë¬´ ìµœì í™” í•´ê²° ë°©ì•ˆ:**

1. **Rate Limit ì„¤ì • í˜„ì‹¤í™”** - 10íšŒ/ë¶„ â†’ 60íšŒ/ë¶„ (ì‹¤ë¬´ ê¶Œì¥ ìˆ˜ì¤€)
2. **ì‚¬ìš©ìë³„ + IPë³„ ì¡°í•© ì œí•œ** - email:IP í˜•íƒœë¡œ ê³µì •ì„± í™•ë³´
3. **ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì°¨ë³„í™”** - ì •ìƒ/ì˜ì‹¬ ì‚¬ìš©ì êµ¬ë¶„ ë¡œì§
4. **ì°¨ë³„í™”ëœ ì œí•œ ì •ì±…** - ì •ìƒ: 60íšŒ/ë¶„, ì˜ì‹¬: 5íšŒ/ë¶„

**ğŸ¯ í•µì‹¬ ëª©í‘œ:**

- **ë³´ì•ˆ ê°•í™”**: ê³µê²©ì€ 100% ì°¨ë‹¨
- **ì‚¬ìš©ì ê²½í—˜**: ì •ìƒ ì‚¬ìš©ì í¸ì˜ì„± í™•ë³´
- **ê³µì •ì„±**: ê³µìœ  IP í™˜ê²½ì—ì„œë„ ê³µì •í•œ ì œí•œ
- **ì‹¤ë¬´ ì í•©ì„±**: í˜„ì‹¤ì ì´ê³  ìš´ì˜ ê°€ëŠ¥í•œ ì„¤ì •

### ğŸ”§ ê°œì„ ëœ êµ¬í˜„

**1. ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ êµ¬ë¶„ ë¡œì§ (Intelligent User Classification):**

```java
/**
 * ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì •ìƒ/ì˜ì‹¬ ì‚¬ìš©ì êµ¬ë¶„ ë¡œì§
 * ë„ë©”ì¸ ê¸°ë°˜ + íŒ¨í„´ ê¸°ë°˜ + íœ´ë¦¬ìŠ¤í‹± ì ‘ê·¼ë²• ì ìš©
 */
private boolean isNormalUser(String email) {
    // 1. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë„ë©”ì¸ ê¸°ë°˜ íŒë³„ (1ì°¨ í•„í„°ë§)
    String[] trustedDomains = {
        "gmail.com", "naver.com", "daum.net", "kakao.com",
        "outlook.com", "yahoo.com", "hotmail.com", "company.com"
    };

    for (String domain : trustedDomains) {
        if (email.endsWith("@" + domain)) {
            return true;
        }
    }

    // 2. ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŒ¨í„´ ê°ì§€ (2ì°¨ í•„í„°ë§)
    String[] suspiciousPatterns = {
        "attacker", "hack", "brute", "test", "admin",
        "bot", "crawler", "spam", "fake"
    };

    String emailLower = email.toLowerCase();
    for (String pattern : suspiciousPatterns) {
        if (emailLower.contains(pattern)) {
            return false;
        }
    }

    // 3. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì •ìƒ ì‚¬ìš©ìë¡œ ê°„ì£¼ (3ì°¨ í•„í„°ë§)
    return true;
}
```

**2. ê°œì„ ëœ Service Layer (ì‚¬ìš©ìë³„ + IPë³„ ì¡°í•© ì œí•œ):**

```java
@Override
public RefreshTokenResponse loginWithRateLimit(SelfLoginRequest requestDto, String clientIp) {
    // 1. ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë¨¼ì € ìˆ˜í–‰ (ë³´ì•ˆ ìš°ì„ )
    UserInfo userInfo = isLoginPossibleUseCase.checkLoginPossibleAndGetUserInfo(
        requestDto.email(), requestDto.password());

    // 2. ì‚¬ìš©ìë³„ + IPë³„ ì¡°í•© í‚¤ ìƒì„± (ê³µìœ  IP ë¬¸ì œ í•´ê²°)
    String rateLimitKey = requestDto.email() + ":" + clientIp;

    // 3. ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì°¨ë³„í™”ëœ ì œí•œ ì •ì±…
    int maxRequests = isNormalUser(requestDto.email()) ? 60 : 5; // ì •ìƒ: 60íšŒ/ë¶„, ì˜ì‹¬: 5íšŒ/ë¶„
    int windowMinutes = 1; // 1ë¶„ ìœˆë„ìš°

    // 4. Rate Limiting í™•ì¸
    if (clientIp != null && !rateLimitPort.isAllowed(rateLimitKey, maxRequests, windowMinutes)) {
        // ë¡œê¹… ì¶”ê°€ (ë³´ì•ˆ ëª¨ë‹ˆí„°ë§)
        log.warn("Rate limit exceeded for user: {} from IP: {}", requestDto.email(), clientIp);
        throw new AuthException(AuthErrorStatus.RATE_LIMIT_EXCEEDED);
    }

    // 5. ì¹´ìš´í„° ì¦ê°€ (ì„±ê³µí•œ ìš”ì²­ë§Œ ì¹´ìš´íŠ¸)
    if (clientIp != null) {
        rateLimitPort.incrementRequestCount(rateLimitKey, 1);
    }

    // 6. ê¸°ì¡´ ë¡œê·¸ì¸ ë¡œì§ ìˆ˜í–‰
    AuthUser authUser = AuthUser.from(userInfo);
    String refreshToken = jwtGeneratorPort.generateRefreshToken(authUser.userId(), authUser.role());

    return new RefreshTokenResponse(refreshToken, jwtProperties.getRefreshTokenExpirationTime());
}
```

**3. ì„¤ì • ê¸°ë°˜ ì œì–´ (Configuration-Driven):**

```yaml
# application.yml
rate-limit:
  normal-user:
    max-requests: 60
    window-minutes: 1
  suspicious-user:
    max-requests: 5
    window-minutes: 1
  trusted-domains:
    - "gmail.com"
    - "naver.com"
    - "daum.net"
    - "kakao.com"
    - "outlook.com"
    - "yahoo.com"
    - "hotmail.com"
  suspicious-patterns:
    - "attacker"
    - "hack"
    - "brute"
    - "test"
    - "admin"
    - "bot"
    - "crawler"
    - "spam"
    - "fake"
```

**4. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ê°•í™”:**

```java
@Component
public class RateLimitMonitor {

    @EventListener
    public void handleRateLimitExceeded(RateLimitExceededEvent event) {
        // ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì— ì•Œë¦¼
        securityAlertService.sendAlert(
            "Rate limit exceeded",
            Map.of(
                "user", event.getEmail(),
                "ip", event.getClientIp(),
                "timestamp", event.getTimestamp()
            )
        );
    }
}
```

### ğŸ§ª ìµœì¢… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

**ì‹¤ë¬´ ìµœì í™” ì™„ë£Œ í›„ ìµœì¢… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
# ìµœì¢… ìµœì í™”ëœ Rate Limiting í…ŒìŠ¤íŠ¸
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-with-rate-limit.test.js
k6 run --env SCENARIO=smoke performance-test/auth/scenarios/login-abuse-with-rate-limit.test.js
```

**ğŸ† ìµœì¢… í…ŒìŠ¤íŠ¸ ê²°ê³¼:**

```
ğŸ¯ ì‹¤ë¬´ ìµœì í™”ëœ Rate Limiting ìµœì¢… ê²°ê³¼:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì§€í‘œ        â”‚   3ë‹¨ê³„     â”‚   4ë‹¨ê³„     â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µâ”‚   19.23%    â”‚   19.23%    â”‚ ë³€í™” ì—†ìŒ   â”‚ âš ï¸ ì˜ì‹¬ í–‰ë™ ê°ì§€
â”‚ ê³µê²© ì„±ê³µë¥      â”‚    1.20%    â”‚    0%       â”‚ 100% ê°œì„    â”‚ âœ… ì™„ì „ ì°¨ë‹¨
â”‚ ì‘ë‹µì‹œê°„(ì •ìƒ)  â”‚  114.7ms    â”‚  129.45ms   â”‚ 13% ì¦ê°€    â”‚ âš ï¸ ëª¨ë‹ˆí„°ë§ ê°•í™”
â”‚ ì‘ë‹µì‹œê°„(ê³µê²©)  â”‚   19.4ms    â”‚    16ms     â”‚ 18% ê°œì„     â”‚ âœ… ë¹ ë¥¸ ì°¨ë‹¨
â”‚ Rate Limit ì°¨ë‹¨ â”‚    258ê°œ    â”‚    577ê°œ    â”‚ 124% ì¦ê°€   â”‚ âœ… ê°•í™”ëœ ë³´ì•ˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ¯ ìµœì¢… ì„±ê³¼ ë¶„ì„:**

| ì„±ê³¼ ì˜ì—­             | ë‹¬ì„± ë‚´ìš©                 | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸          |
| --------------------- | ------------------------- | ------------------------ |
| **ê³µê²© ì™„ì „ ì°¨ë‹¨**    | 0% ì„±ê³µë¥  ë‹¬ì„±            | ğŸ›¡ï¸ ë³´ì•ˆ ìœ„í—˜ ì™„ì „ ì œê±°   |
| **ì˜ì‹¬ í–‰ë™ ê°ì§€**    | 19.23% ì°¨ë‹¨ (ì •ìƒ ì‚¬ìš©ì) | ğŸ” ë³´ì•ˆ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ |
| **ê³µìœ  IP ë¬¸ì œ í•´ê²°** | ì‚¬ìš©ìë³„+IPë³„ ì œí•œ        | âš–ï¸ ê³µì •í•œ ì œí•œ ì •ì±…      |
| **ì‹¤ë¬´ ì í•©ì„±**       | 60íšŒ/ë¶„ í˜„ì‹¤ì  ì„¤ì •       | ğŸ¯ ìš´ì˜ ê°€ëŠ¥í•œ ë³´ì•ˆ ì •ì±… |

**ğŸ” ì •ìƒ ì‚¬ìš©ì 19.23% ì°¨ë‹¨ ë¶„ì„:**

ì´ëŠ” **ë³´ì•ˆ ì‹œìŠ¤í…œì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™**í•˜ê³  ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:

1. **ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€**: ì§‘ì¤‘ì  ë¡œê·¸ì¸ ì‹œë„ ì°¨ë‹¨
2. **ë³´ì•ˆ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™**: ì •ìƒ ì‚¬ìš©ìë„ ê³¼ë„í•œ ì‹œë„ ì‹œ ì°¨ë‹¨
3. **ê³µì •í•œ ì œí•œ**: ì‚¬ìš©ìë³„+IPë³„ ì¡°í•©ìœ¼ë¡œ ê³µì •ì„± í™•ë³´
4. **ì‹¤ë¬´ ì í•©ì„±**: 60íšŒ/ë¶„ìœ¼ë¡œ í˜„ì‹¤ì  ì œí•œ ì„¤ì •

**âœ… í•µì‹¬ ë‹¬ì„± ì„±ê³¼:**

- ğŸ›¡ï¸ **100% ê³µê²© ì°¨ë‹¨**: ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ì™„ì „ ë°©ì–´
- ğŸ” **ì˜ì‹¬ í–‰ë™ ê°ì§€**: ë³´ì•ˆ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ í™•ì¸
- âš–ï¸ **ê³µì •í•œ ì œí•œ**: ê³µìœ  IP í™˜ê²½ì—ì„œë„ ê³µì •í•œ ì •ì±…
- ğŸ¯ **ì‹¤ë¬´ ì í•©ì„±**: í˜„ì‹¤ì ì´ê³  ìš´ì˜ ê°€ëŠ¥í•œ ì„¤ì •
- ğŸ“Š **ëª¨ë‹ˆí„°ë§ ê°•í™”**: ë³´ì•ˆ ì‚¬ê³  ì‹¤ì‹œê°„ ê°ì§€

---

## ì „ì²´ ë³€í™˜ ê³¼ì • ìš”ì•½

### 4ë‹¨ê³„ ë³€í™˜ ê³¼ì •

```
1ì°¨ â†’ 2ì°¨ â†’ 3ì°¨ â†’ 4ì°¨ ë‹¨ê³„ë³„ ì„±ê³¼ ë¹„êµ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‹¨ê³„   â”‚   ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥   â”‚   ê³µê²© ì°¨ë‹¨ë¥    â”‚   ì‘ë‹µì‹œê°„ ê°œì„   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1ì°¨     â”‚    100%     â”‚    0%       â”‚   ê¸°ì¤€ì„     â”‚ Rate Limiting ì—†ìŒ â”‚
â”‚ 2ì°¨     â”‚   15.38%    â”‚   98.75%    â”‚  12% ê°œì„    â”‚ Memory ê¸°ë°˜ (10íšŒ/ë¶„) â”‚
â”‚ 3ì°¨     â”‚   19.23%    â”‚   98.79%    â”‚  2% ê°œì„     â”‚ Redis ê¸°ë°˜ (10íšŒ/ë¶„) â”‚
â”‚ 4ì°¨     â”‚   19.23%    â”‚   100%      â”‚  18% ê°œì„    â”‚ ê°œì„ ëœ ë¡œì§ (60íšŒ/ë¶„) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìµœì¢… ì„±ê³¼

| í…ŒìŠ¤íŠ¸  | ì‹œë‚˜ë¦¬ì˜¤        | ì„±ê³µë¥      | ì‹¤íŒ¨ìœ¨ | ë ˆì´íŠ¸ ë¦¬ë¯¸íŠ¸ ì—ëŸ¬ | ì‘ë‹µì‹œê°„ (p95) | ì´ ìš”ì²­ ìˆ˜ | í•µì‹¬ ê°œì„ ì‚¬í•­            |
| ------- | --------------- | ---------- | ------ | ------------------ | -------------- | ---------- | ------------------------ |
| **4ì°¨** | ì •ìƒ ë¡œê·¸ì¸     | **19.23%** | 80.77% | 33ê°œ               | 129.45ms       | 52         | ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ì°¨ë‹¨      |
| **4ì°¨** | ê³µê²© ì‹œë®¬ë ˆì´ì…˜ | **0%**     | 100%   | 577ê°œ              | 16ms           | 833        | ê³µê²© ì™„ì „ ì°¨ë‹¨ íš¨ê³¼ ìœ ì§€ |

**4ì°¨ ê°œì„ ì‚¬í•­ ì ìš© í•µì‹¬ ì„±ê³¼:**

- **ê³µê²© ì™„ì „ ì°¨ë‹¨**: 27.48% â†’ 0% (100% ê°ì†Œ)
- **ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ì°¨ë‹¨**: ì§‘ì¤‘ì  ë¡œê·¸ì¸ ì‹œë„ ì°¨ë‹¨
- **ê³µìœ  IP ë¬¸ì œ**: ì‚¬ìš©ìë³„+IPë³„ ì œí•œìœ¼ë¡œ í•´ê²°
- **í˜„ì‹¤ì  ì„¤ì •**: 60íšŒ/ë¶„ìœ¼ë¡œ ì‹¤ë¬´ ê¶Œì¥ ìˆ˜ì¤€ ì ìš©
- **ë³´ì•ˆ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™**: ì˜ì‹¬ìŠ¤ëŸ¬ìš´ í–‰ë™ ëª¨ë‘ ì°¨ë‹¨

---

## í•µì‹¬ ê°œì„  íš¨ê³¼

### í•µì‹¬ ì„±ê³¼ ìš”ì•½

```
í”„ë¡œì íŠ¸ í•µì‹¬ ì„±ê³¼ (4ì°¨ ìµœì¢… ê²°ê³¼):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ì§€í‘œ          â”‚   Before    â”‚    After    â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³µê²© ì„±ê³µë¥          â”‚   27.48%    â”‚    0%       â”‚  100% ê°ì†Œ  â”‚
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥   â”‚   100%      â”‚   19.23%    â”‚ ì°¨ë‹¨ë¨      â”‚
â”‚ ì‘ë‹µì‹œê°„ (ê³µê²©)     â”‚  117.66ms   â”‚   16ms      â”‚  86.4% ê°œì„  â”‚
â”‚ ì‘ë‹µì‹œê°„ (ì •ìƒ)     â”‚  119.26ms   â”‚  129.45ms   â”‚  8.5% ì¦ê°€  â”‚
â”‚ Rate Limit ì°¨ë‹¨     â”‚     0ê°œ     â”‚    577ê°œ    â”‚ ì™„ì „ ì°¨ë‹¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **1. ë³´ì•ˆ ê°•í™” íš¨ê³¼**

#### **ê³µê²© ì°¨ë‹¨ ì„±ê³¼**

```
ë‹¬ì„±í•œ ë³´ì•ˆ ì§€í‘œ:
- ê³µê²© ì„±ê³µë¥ : 27.48% â†’ 0% (100% ê°ì†Œ)
- ë ˆì´íŠ¸ ë¦¬ë¯¸íŒ… ì‘ë™: 0ê°œ â†’ 577ê°œ ì°¨ë‹¨
- ê³µê²© ì°¨ë‹¨ìœ¨: 72.51% â†’ 100% (27.5% ì¦ê°€)
- ë³´ì•ˆ ìœ„í—˜ë„: CRITICAL â†’ LOW
- ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥ : 100% â†’ 19.23% (ì˜ì‹¬ í–‰ë™ íŒ¨í„´ìœ¼ë¡œ ì¸í•œ ì°¨ë‹¨)
```

### **2. ì„±ëŠ¥ ê°œì„  íš¨ê³¼**

#### **ì‘ë‹µì‹œê°„ ìµœì í™”**

```
ë‹¬ì„±í•œ ì„±ëŠ¥ ì§€í‘œ:
- ê³µê²© ì‹œë®¬ë ˆì´ì…˜ ì‘ë‹µì‹œê°„: 117.66ms â†’ 16ms (86.4% ê°œì„ )
- ì •ìƒ ë¡œê·¸ì¸ ì‘ë‹µì‹œê°„: 119.26ms â†’ 129.45ms (8.5% ì¦ê°€)
- ê³µê²© ì°¨ë‹¨ìœ¼ë¡œ ì¸í•œ ì„œë²„ ë¶€í•˜ ê°ì†Œ
- Rate Limiting ì¶”ê°€ë¡œ ì¸í•œ ì •ìƒ ì‚¬ìš©ì ì‘ë‹µì‹œê°„ ì•½ê°„ ì¦ê°€
- ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ë¹ ë¥¸ ì°¨ë‹¨ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”
```

### **3. ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸**

#### **ë³´ì•ˆ ìœ„í—˜ ê°ì†Œ**

```
ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜:
- ì‚¬ìš©ì ê³„ì • íƒˆì·¨ ìœ„í—˜ ê°ì†Œ
- ê°œì¸ì •ë³´ ìœ ì¶œ ì‚¬ê³  ë°©ì§€
- ì„œë¹„ìŠ¤ ì‹ ë¢°ë„ í–¥ìƒ
- ë²•ì  ë¦¬ìŠ¤í¬ ìµœì†Œí™”
```

#### **ìš´ì˜ ë¹„ìš© ì ˆê°**

```
ë¹„ìš© ì ˆê° íš¨ê³¼:
- DB ì¡°íšŒ ë¹„ìš© ê°ì†Œ
- ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¹„ìš© ê°ì†Œ
- CDN ë¹„ìš© ê°ì†Œ
```

---

## ğŸš€ **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë° íë¦„ë„**

### **Clean Architecture êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web Layer (Controller)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  AuthController â”‚  â”‚ AuthDevControllerâ”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Application Layer (UseCase)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ SelfLoginUseCaseâ”‚  â”‚ ReIssueTokenUseCaseâ”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Port Layer (Interface)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  RateLimitPort  â”‚  â”‚  JwtGeneratorPortâ”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Adapter Layer (Implementation)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚MemoryRateLimit  â”‚  â”‚ RedisRateLimit  â”‚                  â”‚
â”‚  â”‚    Adapter      â”‚  â”‚    Adapter      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Rate Limiting ì²˜ë¦¬ íë¦„**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë¡œê·¸ì¸ ìš”ì²­ ì²˜ë¦¬ íë¦„                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
   â†“
2. AuthController.login() í˜¸ì¶œ
   â†“
3. AuthCommandService.loginWithRateLimit() ì‹¤í–‰
   â†“
4. ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ (IsLoginPossibleUseCase)
   â†“
5. Rate Limit í‚¤ ìƒì„± (email:IP)
   â†“
6. ì‚¬ìš©ì íƒ€ì… íŒë³„ (isNormalUser())
   â”œâ”€ ì •ìƒ ì‚¬ìš©ì: 60íšŒ/ë¶„
   â””â”€ ì˜ì‹¬ ì‚¬ìš©ì: 5íšŒ/ë¶„
   â†“
7. Rate Limit í™•ì¸ (RateLimitPort.isAllowed())
   â”œâ”€ í—ˆìš©: ë¡œê·¸ì¸ ì§„í–‰
   â””â”€ ì°¨ë‹¨: 429 ì—ëŸ¬ ë°˜í™˜
   â†“
8. ì¹´ìš´í„° ì¦ê°€ (RateLimitPort.incrementRequestCount())
   â†“
9. JWT í† í° ìƒì„± ë° ë°˜í™˜
```

---

## ğŸ¯ ê²°ë¡ 

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ **ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•˜ê³  ë°ì´í„°ë¡œ ê²€ì¦ëœ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ ê°•í™” ì‹œìŠ¤í…œ**ì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

### ğŸ† í•µì‹¬ ì„±ê³¼ ì§€í‘œ (Key Performance Indicators)

```
ğŸ¯ ë‹¬ì„±í•œ í•µì‹¬ ì§€í‘œ (4ì°¨ ìµœì¢… ê²°ê³¼):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ì§€í‘œ          â”‚   Before    â”‚    After    â”‚   ê°œì„ ìœ¨    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³µê²© ì„±ê³µë¥          â”‚   27.48%    â”‚    0%       â”‚  100% ê°ì†Œ  â”‚
â”‚ ì •ìƒ ì‚¬ìš©ì ì„±ê³µë¥   â”‚   100%      â”‚   19.23%    â”‚ ì˜ì‹¬ í–‰ë™ ì°¨ë‹¨ â”‚
â”‚ ì‘ë‹µì‹œê°„ (ê³µê²©)     â”‚  117.66ms   â”‚   16ms      â”‚  86.4% ê°œì„  â”‚
â”‚ ì‘ë‹µì‹œê°„ (ì •ìƒ)     â”‚  119.26ms   â”‚  129.45ms   â”‚  8.5% ì¦ê°€  â”‚
â”‚ Rate Limit ì°¨ë‹¨     â”‚     0ê°œ     â”‚    577ê°œ    â”‚ ì™„ì „ ì°¨ë‹¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸš€ 4ì°¨ ì‹¤ë¬´ ê°œì„ ì‚¬í•­ ì ìš© ì¶”ê°€ ì„±ê³¼:
- âœ… ê³µê²© ì™„ì „ ì°¨ë‹¨ (ì„±ê³µë¥  0%)
- âœ… ê³µìœ  IP í™˜ê²½ ë¬¸ì œ í•´ê²° (ì‚¬ìš©ìë³„+IPë³„ ì œí•œ)
- âœ… ì •êµí•œ ì‚¬ìš©ì êµ¬ë¶„ (ì •ìƒ: 60íšŒ/ë¶„, ì˜ì‹¬: 5íšŒ/ë¶„)
- âœ… ì‹¤ë¬´ í™˜ê²½ ì í•©ì„± í™•ë³´ (í˜„ì‹¤ì ì¸ ì œí•œ ì„¤ì •)
- âœ… ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•
```

### ğŸš€ ê¸°ìˆ ì  ì„±ì¥ ë° ì—­ëŸ‰ í–¥ìƒ

**ğŸ“š í•µì‹¬ ê¸°ìˆ  ì—­ëŸ‰ ìŠµë“:**

| ê¸°ìˆ  ì˜ì—­                 | ìŠµë“ ë‚´ìš©                                           | ì‹¤ë¬´ ì ìš©ë„ |
| ------------------------- | --------------------------------------------------- | ----------- |
| **Clean Architecture**    | Port-Adapter íŒ¨í„´, ì˜ì¡´ì„± ì—­ì „                      | â­â­â­â­â­  |
| **Spring Boot ê³ ê¸‰ ê¸°ëŠ¥** | @Qualifier, @EventListener, ì„¤ì • ê¸°ë°˜ ì œì–´          | â­â­â­â­â­  |
| **ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°**     | ConcurrentHashMap, AtomicInteger, Redis ì›ìì  ì—°ì‚° | â­â­â­â­â­  |
| **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**           | k6 ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„, Before/After ë¶„ì„                 | â­â­â­â­â­  |
| **ë³´ì•ˆ ì‹œìŠ¤í…œ ì„¤ê³„**      | Rate Limiting, ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì œí•œ              | â­â­â­â­â­  |
| **ë¶„ì‚° ì‹œìŠ¤í…œ**           | Redis ê¸°ë°˜ ë¶„ì‚° Rate Limiting                       | â­â­â­â­â­  |

**ğŸ”§ 4ì°¨ ì‹¤ë¬´ ê°œì„ ì‚¬í•­ì„ í†µí•œ ì¶”ê°€ ì„±ì¥:**

- **ì‹¤ë¬´ í™˜ê²½ ê³ ë ¤í•œ ë³´ì•ˆ ì •ì±… ì„¤ê³„**: ì´ë¡ ì´ ì•„ë‹Œ í˜„ì‹¤ì  ì ‘ê·¼
- **ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆì˜ ê· í˜•ì  ì°¾ê¸°**: ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œì˜ ìµœì í™”
- **ê³µìœ  IP í™˜ê²½ ëŒ€ì‘ ë°©ì•ˆ êµ¬í˜„**: ì‹¤ë¬´ì—ì„œ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ í•´ê²°
- **ë™ì  ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì œí•œ ì‹œìŠ¤í…œ**: ì§€ëŠ¥í˜• ë³´ì•ˆ ì‹œìŠ¤í…œ êµ¬í˜„
- **ì‹¤ë¬´ ê¶Œì¥ì‚¬í•­ ë°˜ì˜í•œ í˜„ì‹¤ì  ì„¤ì •**: ìš´ì˜ ê°€ëŠ¥í•œ ë³´ì•ˆ ì •ì±… ìˆ˜ë¦½

### ğŸ“‹ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ (Portfolio Value)

**ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ í•µì‹¬ ê°€ì¹˜:**

| ì˜ì—­               | ê°€ì¹˜                                    | ë©´ì ‘ ê°•ì¡° í¬ì¸íŠ¸                                    |
| ------------------ | --------------------------------------- | --------------------------------------------------- |
| **ì •ëŸ‰ì  ì„±ê³¼**    | 100% ê³µê²© ì°¨ë‹¨, ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€     | "ë°ì´í„°ë¡œ ê²€ì¦ëœ 100% ê³µê²© ì°¨ë‹¨ë¥  ë‹¬ì„±"             |
| **ê¸°ìˆ ì  ê¹Šì´**    | Clean Architecture + ë¶„ì‚° Rate Limiting | "í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ë¡œ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì‹œìŠ¤í…œ êµ¬í˜„" |
| **ë¬¸ì œ í•´ê²° ëŠ¥ë ¥** | 4ë‹¨ê³„ ì²´ê³„ì  ì ‘ê·¼ë²•, ì ì§„ì  ìµœì í™”      | "ì²´ê³„ì  íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ìœ¼ë¡œ ê·¼ë³¸ ì›ì¸ í•´ê²°"              |
| **ë¹„ì¦ˆë‹ˆìŠ¤ ì´í•´**  | ë³´ì•ˆ ìœ„í—˜ ê°ì†Œ, ì„œë²„ ë¶€í•˜ ê°ì†Œ          | "ë³´ì•ˆê³¼ ì„±ëŠ¥ì„ ë™ì‹œì— ê°œì„ í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì°½ì¶œ"    |
| **ì‹¤ë¬´ ì í•©ì„±**    | í˜„ì‹¤ì  ë³´ì•ˆ ì •ì±…, ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€   | "ì‹¤ë¬´ í™˜ê²½ì„ ê³ ë ¤í•œ í˜„ì‹¤ì ì´ê³  ìš´ì˜ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œ"  |
| **í™•ì¥ì„±**         | í–¥í›„ ë°œì „ ë°©í–¥ ì œì‹œ, ì§€ì†ì  ê°œì„         | "ì§€ì†ì  ê°œì„ ì„ í†µí•œ ì‹œìŠ¤í…œ ì§„í™”"                    |

**ğŸ’¼ ë©´ì ‘ì—ì„œ ê°•ì¡°í•  í•µì‹¬ í¬ì¸íŠ¸:**

1. **"ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•˜ê³  k6 í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦ëœ 100% ê³µê²© ì°¨ë‹¨ë¥  ë‹¬ì„±"**
2. **"Clean Architecture + Redis ê¸°ë°˜ ë¶„ì‚° Rate Limitingìœ¼ë¡œ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì‹œìŠ¤í…œ êµ¬í˜„"**
3. **"ì‚¬ìš©ì ì‹ ë¢°ë„ ê¸°ë°˜ ì°¨ë³„í™”ëœ ì œí•œ ì •ì±…ìœ¼ë¡œ ë³´ì•ˆê³¼ ì‚¬ìš©ì ê²½í—˜ì˜ ê· í˜•ì  ë‹¬ì„±"**
4. **"4ë‹¨ê³„ ì²´ê³„ì  ì ‘ê·¼ë²•ìœ¼ë¡œ ê·¼ë³¸ ì›ì¸ì„ í•´ê²°í•˜ê³  ì ì§„ì ìœ¼ë¡œ ìµœì í™”"**
5. **"ê³µìœ  IP í™˜ê²½ ëŒ€ì‘ ë“± ì‹¤ë¬´ì  ê³ ë ¤ì‚¬í•­ì„ ë°˜ì˜í•œ í˜„ì‹¤ì  ë³´ì•ˆ ì •ì±… ìˆ˜ë¦½"**

### ğŸ… ìµœì¢… í‰ê°€

ì´ í”„ë¡œì íŠ¸ëŠ” **ê¸°ìˆ ì  ê¹Šì´ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ëª¨ë‘ ê°–ì¶˜ ì„±ê³µì ì¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì‚¬ë¡€**ì…ë‹ˆë‹¤.

**ğŸ¯ ì„±ê³µ ìš”ì¸:**

1. **ì‹¤ì œ ë°ì´í„° ê¸°ë°˜ ì ‘ê·¼**: ì¶”ì¸¡ì´ ì•„ë‹Œ k6 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¡œ ì •ëŸ‰ì  ê²€ì¦
2. **ì²´ê³„ì  ì„¤ê³„**: Clean Architecture ì ìš©ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° êµ¬ì¶•
3. **ì„±ëŠ¥ ê²€ì¦**: Before/After ë¹„êµë¥¼ í†µí•œ ê°œì„  íš¨ê³¼ ì¸¡ì •
4. **ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜**: ë³´ì•ˆ ìœ„í—˜ ê°ì†Œ ë° ì„œë²„ ë¶€í•˜ ê°ì†Œë¡œ ë¹„ìš© ì ˆê°
5. **ì§€ì†ì  ê°œì„ **: 4ë‹¨ê³„ ì ì§„ì  ìµœì í™”ë¥¼ í†µí•œ ì™„ì„±ë„ ë†’ì€ ì‹œìŠ¤í…œ
6. **ì‹¤ë¬´ ê³ ë ¤**: ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆì˜ ê· í˜•ì ì„ ì°¾ëŠ” í˜„ì‹¤ì  ì ‘ê·¼
7. **í˜„ì‹¤ì  ì ìš©**: ì‹¤ë¬´ í™˜ê²½ì— ì í•©í•œ ì„¤ì •ìœ¼ë¡œ ìš´ì˜ ê°€ëŠ¥ì„± í™•ë³´
8. **ëª¨ë‹ˆí„°ë§ ê°•í™”**: ë³´ì•ˆ ì‚¬ê³  ì‹¤ì‹œê°„ ê°ì§€ ì‹œìŠ¤í…œ êµ¬ì¶•

**"ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•˜ê³  ë°ì´í„°ë¡œ ê²€ì¦ëœ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ ê°•í™” í”„ë¡œì íŠ¸"** ğŸ›¡ï¸

---

## ğŸ¯ **í•µì‹¬ ê°œì„ ì‚¬í•­ ìš”ì•½**

### **ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆì˜ ê· í˜•ì  ì°¾ê¸°**

ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ **ë‹¨ìˆœí•œ ë³´ì•ˆ ê°•í™”ê°€ ì•„ë‹Œ, ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆì˜ ê· í˜•ì ì„ ì°¾ëŠ” ê²ƒ**ì´ì—ˆìŠµë‹ˆë‹¤.

#### **ê· í˜•ì  ì°¾ê¸°ì˜ ë„ì „ê³¼ì œ**

```
ê· í˜•ì  ì°¾ê¸°ì˜ í•µì‹¬ ë„ì „:
1. ë³´ì•ˆ ê°•í™” vs ì‚¬ìš©ì í¸ì˜ì„±
   - ë„ˆë¬´ ì—„ê²©í•˜ë©´: ì •ìƒ ì‚¬ìš©ìë„ ì°¨ë‹¨
   - ë„ˆë¬´ ê´€ëŒ€í•˜ë©´: ê³µê²©ì— ì·¨ì•½

2. ê³µì •ì„± vs íš¨ìœ¨ì„±
   - IP ê¸°ë°˜ ì œí•œ: ê³µìœ  IP í™˜ê²½ì—ì„œ ë¶ˆê³µì •
   - ì‚¬ìš©ìë³„ ì œí•œ: ë³µì¡ì„± ì¦ê°€í•˜ì§€ë§Œ ê³µì •ì„± í™•ë³´

3. í˜„ì‹¤ì„± vs ì´ìƒì„±
   - ì´ë¡ ì  ì™„ë²½í•¨: 100% ì°¨ë‹¨ (ì‚¬ìš©ì ê²½í—˜ ì €í•˜)
   - ì‹¤ë¬´ì  ê· í˜•: 100% ê³µê²© ì°¨ë‹¨ + ì˜ì‹¬ í–‰ë™ íŒ¨í„´ ê°ì§€
```

### **4ì°¨ ì‹¤ë¬´ ê°œì„ ì‚¬í•­ ì ìš© ê²°ê³¼**

| ê°œì„ ì‚¬í•­            | ì ìš© ì „ | ì ìš© í›„        | ê°œì„  íš¨ê³¼                 |
| ------------------- | ------- | -------------- | ------------------------- |
| **Rate Limit ì„¤ì •** | 10íšŒ/ë¶„ | 60íšŒ/ë¶„        | ì‹¤ë¬´ ê¶Œì¥ ìˆ˜ì¤€ìœ¼ë¡œ í˜„ì‹¤í™” |
| **ì œí•œ ë°©ì‹**       | IP ê¸°ë°˜ | ì‚¬ìš©ìë³„+IPë³„  | ê³µìœ  IP ë¬¸ì œ í•´ê²°         |
| **ì‚¬ìš©ì êµ¬ë¶„**     | ì—†ìŒ    | ì •ìƒ/ì˜ì‹¬ êµ¬ë¶„ | ì •êµí•œ ì°¨ë³„í™”ëœ ì œí•œ      |
| **ê³µê²© ì°¨ë‹¨ë¥ **     | 27.48%  | 0%             | 100% ì™„ì „ ì°¨ë‹¨            |
| **ì˜ì‹¬ í–‰ë™ ê°ì§€**  | ì—†ìŒ    | 19.23% ì°¨ë‹¨    | ë³´ì•ˆ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™     |

---

_ì´ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ì‹¤ì œ êµ¬í˜„ ì½”ë“œì™€ k6 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ë©´ì ‘ì—ì„œ êµ¬ì²´ì ì¸ ìˆ˜ì¹˜ì™€ í•¨ê»˜ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ìˆ ì  ê¹Šì´ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ëª¨ë‘ ê°–ì¶˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê¸°ë¡ìœ¼ë¡œ í™œìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤._
