def build_refactor_prompt(file_diff: str) -> str:
    return f"""
λ‹¤μμ€ SaaS λ°±μ—”λ“ μ‹μ¤ν…μ Pull Request diffμ…λ‹λ‹¤.

π― λ©ν‘: λ¦¬ν©ν† λ§ μ¤‘μ‹¬μ κ°μ„  μ μ•

π“ μ°Έκ³  κΈ°μ¤€:
- λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ λ„λ¬΄ λ§μ€ Service β†’ λ©”μ„λ“ λ¶„λ¦¬, κ°μ²΄ λ¶„λ¦¬
- λ„λ©”μΈ κ°μ²΄κ°€ λ¬΄μλ―Έν•κ² μ»¨νΈλ΅¤λ¬μ— λ…Έμ¶λλ” κµ¬μ΅° β†’ μΊ΅μν™” μ λ„
- DDD κ·μΉ™ μ„λ° (λ„λ©”μΈ β†’ μΈν”„λΌ μμ΅΄ λ“±) μ—¬λ¶€
- νΈλμ­μ… λ²”μ„κ°€ λ„λ¬΄ λ„“κ±°λ‚ μ—¬λ¬ μ±…μ„μ„ ν¬ν•¨ν• κ²½μ°
- AOPλ΅ μ¶”μ¶ κ°€λ¥ν• κ΄€μ‹¬μ‚¬ λ¶„λ¦¬ μ—¬λ¶€
- μ ν‹Έ/ν—¬νΌ ν΄λμ¤κ°€ λ„λ¬΄ λΉ„λ€ν•΄μ΅λ”μ§€

π§ μ μ• ν•μ‹:
- λ¦¬ν©ν† λ§ ν¬μΈνΈ μ„¤λ…
- λ¦¬ν©ν† λ§ ν›„ κµ¬μ΅° μμ‹ (ν΄λμ¤/λ©”μ„λ“ λ“±)
- μ½”λ“ λ³€κ²½ μ‹ μ μμ‚¬ν•­

--- νμΌ λ³€κ²½ λ‚΄μ© ---
{file_diff}
"""
