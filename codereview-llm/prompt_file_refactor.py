# ✅ prompt_file_refactor.py

def build_file_refactor_prompt(file_diff: str) -> str:
    return f"""
다음은 SaaS 백엔드 시스템의 Pull Request diff입니다.

🎯 목표: 이 파일에서 필요한 구조적 리팩토링을 1개의 코멘트로 요약 제안합니다.

✅ 출력 형식 조건:
- 설명은 반드시 **한국어**로 작성합니다.
- 코드 블럭이 필요한 경우 사용하세요.
- **파일 전체에 대한 의미 있는 리팩토링 제안**을 1개의 코멘트로 작성하세요.
- 장황한 설명은 피하고 **실무적 목적과 결과 중심**으로 작성합니다.

✅ 분석 기준 (해당 시 작성):
- Service 클래스에 너무 많은 책임이 몰려있는 경우 (비즈니스 로직 집중)
- DDD 규칙 위반 (도메인 → 인프라 의존 등)
- AOP 분리 가능 관심사
- 트랜잭션 범위가 넓거나 책임이 많은 경우
- 유틸/헬퍼 클래스가 비대화된 경우
- 도메인 객체 노출 (컨트롤러에서 내부 상태 직접 노출 등)

🧪 제안 방식:
- 리팩토링 포인트 설명
- 구조 예시 (클래스/메서드 분리 등)
- 주의할 점

--- 파일 변경 내용 ---
{file_diff}
"""
