# β… prompt_file_refactor.py

def build_file_refactor_prompt(file_diff: str) -> str:
    return f"""
λ‹¤μμ€ SaaS λ°±μ—”λ“ μ‹μ¤ν…μ Pull Request diffμ…λ‹λ‹¤.

π― λ©ν‘: μ΄ νμΌμ—μ„ ν•„μ”ν• κµ¬μ΅°μ  λ¦¬ν©ν† λ§μ„ 1κ°μ μ½”λ©νΈλ΅ μ”μ•½ μ μ•ν•©λ‹λ‹¤.

β… μ¶λ ¥ ν•μ‹ μ΅°κ±΄:
- μ„¤λ…μ€ λ°λ“μ‹ **ν•κµ­μ–΄**λ΅ μ‘μ„±ν•©λ‹λ‹¤.
- μ½”λ“ λΈ”λ­μ΄ ν•„μ”ν• κ²½μ° μ‚¬μ©ν•μ„Έμ”.
- **νμΌ μ „μ²΄μ— λ€ν• μλ―Έ μλ” λ¦¬ν©ν† λ§ μ μ•**μ„ 1κ°μ μ½”λ©νΈλ΅ μ‘μ„±ν•μ„Έμ”.
- μ¥ν™©ν• μ„¤λ…μ€ ν”Όν•κ³  **μ‹¤λ¬΄μ  λ©μ κ³Ό κ²°κ³Ό μ¤‘μ‹¬**μΌλ΅ μ‘μ„±ν•©λ‹λ‹¤.

β… λ¶„μ„ κΈ°μ¤€ (ν•΄λ‹Ή μ‹ μ‘μ„±):
- Service ν΄λμ¤μ— λ„λ¬΄ λ§μ€ μ±…μ„μ΄ λ°λ ¤μλ” κ²½μ° (λΉ„μ¦λ‹μ¤ λ΅μ§ μ§‘μ¤‘)
- DDD κ·μΉ™ μ„λ° (λ„λ©”μΈ β†’ μΈν”„λΌ μμ΅΄ λ“±)
- AOP λ¶„λ¦¬ κ°€λ¥ κ΄€μ‹¬μ‚¬
- νΈλμ­μ… λ²”μ„κ°€ λ„“κ±°λ‚ μ±…μ„μ΄ λ§μ€ κ²½μ°
- μ ν‹Έ/ν—¬νΌ ν΄λμ¤κ°€ λΉ„λ€ν™”λ κ²½μ°
- λ„λ©”μΈ κ°μ²΄ λ…Έμ¶ (μ»¨νΈλ΅¤λ¬μ—μ„ λ‚΄λ¶€ μƒνƒ μ§μ ‘ λ…Έμ¶ λ“±)

π§ μ μ• λ°©μ‹:
- λ¦¬ν©ν† λ§ ν¬μΈνΈ μ„¤λ…
- κµ¬μ΅° μμ‹ (ν΄λμ¤/λ©”μ„λ“ λ¶„λ¦¬ λ“±)
- μ£Όμν•  μ 

--- νμΌ λ³€κ²½ λ‚΄μ© ---
{file_diff}
"""
